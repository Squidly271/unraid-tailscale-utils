Menu="Tailscale"
Icon="tailscale.png"
Title="Help"
Tag="question"
Type="xmenu"
---

## _(Initial Configuration)_

_(You may want to disable key expiration for your server (either by using an auth key and connecting via the CLI, or afterwards via the Tailscale admin console).)_

## _(System Settings)_

### _(Unraid services listen on Tailscale IP)_

_(Configures Unraid services (SSH, WebGUI, SMB, etc.) to listen on Tailscale addresses.)_

### _(Enable IP Forwarding)_

_(This setting modifies the sysctl settings for IPv4 and IPv6 forwarding.)_
_(This is useful when Tailscale is configured to be a subnet router or exit node.)_

_(When set to Yes, IPv4 and IPv6 forwarding are both turned on.)_
_(When set to No, the plugin does not modify the forwarding settings.)_

### _(Taildrop Location)_

_(Enter a valid path here to enable the Unraid server to accept files via Taildrop.)_

_(If this setting is configured, Tailscale will be restarted when the array starts; this is required for the Taildrop folder to be detected and used.)_

### _(Allow Usage Data Collection)_

_(Allows usage information to be collected)_:

- _(Anonymized identifier)_
- _(Tailscale plugin version)_
- _(Unraid version)_

## _(Tailscale Settings)_

_(If a setting is set to "Ignore", the plugin will not make any changes to the setting in Tailscale.)_
_(This is useful if you wish to configure settings via CLI instead of the WebGUI.)_

### _(Use Tailscale Subnets)_

_(When enabled, Unraid will accept routes advertisted from subnet routers in the tailnet.)_

_(When disabled, Unraid will not accept routes from subnet routers.)_

### _(Use Tailscale DNS Settings)_

_(When enabled, Unraid will use the DNS settings configured in the Tailscale admin console, including MagicDNS and nameservers.)_

_(When disabled, Unraid will use the DNS settings configured in the Unraid network settings.)_

## _(Certificates)_

_(A Tailscale HTTPS certificate can be used for the WebGUI.)_
_(Your hostname must match the name used for the machine in Tailscale.)_

1. Enable HTTPS for your tailnet.
2. Set the **Local TLD** in **Settings**->**Management Access** to your
   Tailnet name (as displayed in the [DNS](https://login.tailscale.com/admin/dns)
   page of your Tailscale admin console)
2. Generate a new certificate and copy the to the WebGUI configuration.
   (This can also be run via the User Scripts plugin.)
```
#!/bin/bash
mkdir -p /boot/config/plugins/tailscale/certs
cd /boot/config/plugins/tailscale/certs

source /boot/config/ident.cfg
FQDN=$(hostname).${LOCAL_TLD%%[[:cntrl:]]}

# Have Tailscale generate a new certificate if needed
tailscale cert $FQDN

# Build the PEM bundle
cat /boot/config/plugins/tailscale/certs/$FQDN.crt > /boot/config/plugins/tailscale/certs/$FQDN.pem
cat /boot/config/plugins/tailscale/certs/$FQDN.key >> /boot/config/plugins/tailscale/certs/$FQDN.pem

# Update the WebGUI certificate
echo "Copying certificate to WebGUI config"
cp -v /boot/config/plugins/tailscale/certs/$FQDN.pem /boot/config/ssl/certs/$(hostname)_unraid_bundle.pem
echo "Restarting WebGUI"
/etc/rc.d/rc.nginx reload
```

It is also possible to use these certificates for Docker containers. For
example, to use the generated certificate for Minio:
```
# Copy the files to the Minio container
echo "Copying certificate to Minio"
cp -v /boot/config/plugins/tailscale/certs/$FQDN.crt /mnt/user/appdata/minio/certs/public.crt
cp -v /boot/config/plugins/tailscale/certs/$FQDN.key /mnt/user/appdata/minio/certs/private.key
echo "Restarting Minio"
docker restart Minio
```

## _(Support)_

_(Support for this plugin is available via the support thread on the Unraid forums)_:

[https://forums.unraid.net/topic/136889-plugin-tailscale/](https://forums.unraid.net/topic/136889-plugin-tailscale/)

_(Support for use of advanced networking features such as subnet routers or docker ipvlan/macvlan networks will be limited since advanced network features can be dependent on the underlying network configuration.)_
